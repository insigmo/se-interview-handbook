# **Вопросы по сетям**

#### **1\. Какой номер клиентского порта будет при http-запросе на 80 порт сервера? Как можно повлиять на диапазон клиентских портов в линуксе?**

```
Порт будет динамический или "эфемерный".

Многие версии ядра Linux используют в качестве динамических порты 32768 — 61000 (диапазон задаётся в файле /proc/sys/net/ipv4/ip\_local\_port\_range)
```

#### **2\. Какой транспортный протокол у DNS-запроса по модели TCP/IP**

```
UDP
```

#### **3\. Чем отличается TCP от UDP?**

На собеседованиях можно шутить так:  
Я могу конечно рассказать вам про UDP, но думаю до вас не дойдет

**Протокол TCP (Transmission Control Protocol)** – это сетевой протокол, который «заточен» под соединение. Иными словами, прежде, чем начать обмен данными, данному протоколу требуется установить соединение между двумя хостами. Данный протокол имеет высокую надежность, поскольку позволяет не терять данные при передаче, запрашивает подтверждения о получении от принимающей стороны и в случае необходимости отправляет данные повторно. При этом отправляемые пакеты данных сохраняют порядок отправки, то есть можно сказать, что передача данных упорядочена. Минусом данного протокола является относительно низкая скорость передачи данных, за счет того что выполнение надежной и упорядоченной передачи занимает больше времени, чем в альтернативном протоколе UDP. TCP запрос может отправиться только на 1 хост, так как поддерживает Broadcast. 

**Протокол UDP (User Datagram Protocol)**, в свою очередь, более прост. Для передачи данных ему не обязательно устанавливать соединение между отправителем и получателем. Информация передается без предварительной проверки готовности принимающей стороны. Это делает протокол менее надежным – при передаче некоторые фрагменты данных могут теряться. Кроме того, упорядоченность данных не соблюдается – возможен непоследовательный прием данных получателем. Зато скорость передачи данных по данному транспортному протоколу будет более высокой. UDP запрос может отправиться на бесконечное количество хостов, так как поддерживает Multicast. 

#### **4\. Как происходит TCP handshake?**

Процесс начала сеанса TCP (также называемый «рукопожатие» (англ. handshake)), состоит из трёх шагов.

1\. Клиент, который намеревается установить соединение, посылает серверу сегмент с номером последовательности и флагом SYN.  
\- Сервер получает сегмент, запоминает номер последовательности и пытается создать сокет (буферы и управляющие структуры памяти) для обслуживания нового клиента.  
\- В случае успеха сервер посылает клиенту сегмент с номером последовательности и флагами SYN и ACK, и переходит в состояние SYN-RECEIVED.  
\- В случае неудачи сервер посылает клиенту сегмент с флагом RST.

2\. Если клиент получает сегмент с флагом SYN, то он запоминает номер последовательности и посылает сегмент с флагом ACK.  
\- Если клиент одновременно получает и флаг ACK (что обычно и происходит), то он переходит в состояние ESTABLISHED.  
\- Если клиент получает сегмент с флагом RST, то он прекращает попытки соединиться.  
\- Если клиент не получает ответа в течение 10 секунд, то он повторяет процесс соединения заново.

3\. Если сервер в состоянии SYN-RECEIVED получает сегмент с флагом ACK, то он переходит в состояние ESTABLISHED.  
В противном случае после тайм-аута он закрывает сокет и переходит в состояние CLOSED.

#### 5\. Модель OSI

[Ресурс](https://skillbox.ru/media/code/chto-takoe-model-osi-i-zachem-ona-nuzhna-prepariruem-sloyenyy-pirog-interneta/)

#### 6\. Что такое REST API? Что такое HTTP протокол? 

[Ресурс](https://skillbox.ru/media/code/rest-api-chto-eto-takoe-i-kak-rabotaet/)

#### 7\. Какие версии HTTP существуют и чем они отличаются?

[Ресурс](https://habr.com/ru/articles/739166/)